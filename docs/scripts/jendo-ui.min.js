/*!
 * Jendo UI v1.1.1
 * https://nobidem.github.io/jendo/
 *
 * Copyright Nobidem
 * Released under the MIT license
 * https://nobidem.github.io/jendo/license
 */
function JendoSection(e){this.sectionElements=e}function JendoNavBar(e){this.sectionElements=e}function JendoDialog(e){this.jDialog=jendo(e),0!=this.jDialog.length&&(jendo.isNullOrEmpty(this.jDialog.attr("role"))&&this.jDialog.attr("role","dialog"),jendo.isNullOrEmpty(this.jDialog.attr("class"))&&this.jDialog.attr("class","jd-dialog"),this.dialogTitle="Jendo Dialog",this.withTitlebar=!0,this.withCloseBtnLeft=!1,this.withCloseBtnRight=!0,this.isModalForm=!1)}function JendoDatepicker(e,t){if(this.jdElement=e,this.dElement=this.jdElement.first(),this.dpOptions=this.dElement.options,jendo.isNull(this.dpOptions)&&(this.dpOptions={weekdayStart:1,format:"yyyy-MM-dd",viewMode:"days",showButton:!1},this.dElement.options=this.dpOptions),!this.isInit()){var n=this.jdElement.parent();if(this.dpOptions.showButton){var a=document.createElement("i");a.setAttribute("class","fa fa-calendar"),a.setAttribute("aria-hidden","true"),n.insertAfter(a,this.jdElement)}this.dDatepicker=this.createDatepicker(this.jdElement.attrId()+"_datepicker"),n.insertAfter(this.dDatepicker,this.jdElement);var o=this,i=jendo(this.dDatepicker);this.jdElement.click(function(e){i.isVisible()?i.hide():(i.left(o.jdElement.left()),i.show(),_JendoFuncCloseElement=o.hideElement,_JendoLastOpenElement=i)}),this.isInit(!0)}}function JendoGridView(e){jendo.isNull(e)||0!=e.length&&(this._Element=e,this._GridView=this._Element.find('[role="grid"]'),0==this._GridView.length&&(this._GridView=this._Element.appendElementTable().role("grid")),this._GVData=this._GridView.prop("gvdata"),jendo.isNull(this._GVData)&&(this._GVData={filterable:{enabled:!1,mode:"row"},columns:[],records:[],sortData:[],filterData:[],allowPaging:!0,pageSize:10,pageNo:1,pager:{numeric:!0,numericCount:5,prevNext:!0,firstLast:!0,goToPage:!0,pageSize:!0,pageSizeList:[],info:!0},show:{rowNo:!1}},this._GridView.prop("gvdata",this._GVData)))}function JendoQRCodeReader(e){this._QRCodeReader=jendo(e),this._Height=this._QRCodeReader.height(),this._Width=this._QRCodeReader.width(),this._OnSuccess=null,this._OnError=null,this._OnVideoError=null}jendo.dateFormatUI=function(e,t){if("date"==jendo.constructorName(e).toLowerCase()){var n=e.getMonth(),a=e.getDay();return jendo.dateFormat(e,t.replace(/MMMM/g,"p1").replace(/MMM/g,"p2").replace(/dddd/g,"p3").replace(/ddd/g,"p4")).replace(/p1/g,jendo.lang.monthNames[n]).replace(/p2/g,jendo.lang.monthShortNames[n]).replace(/p3/g,jendo.lang.weekdayNames[a]).replace(/p4/g,jendo.lang.weekdayShortNames[a])}return""},jendo.includeStyle("/content/font-awesome/css/font-awesome.min.css"),jendo.lang.load({weekdayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdayShortNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdayNarrowNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthShortNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var _JendoLastOpenElement=null,_JendoFuncCloseElement=null;document.addEventListener("click",function(e){null!=_JendoFuncCloseElement&&null!=_JendoLastOpenElement&&_JendoFuncCloseElement(e.target)},!0),JendoSection.prototype.append=function(e){if(!jendo.isNull(this.sectionElements)&&!jendo.isNull(e)){var t=document.createElement("div");t.className="jd-section jd-section-info";var n=document.createElement("div");n.className="jd-header",t.appendChild(n);var a=document.createElement("h3");n.appendChild(a);var o=document.createElement("A");o.href=e.link,o.appendChild(document.createTextNode(e.title)),a.appendChild(o);var i=document.createElement("div");i.className="jd-summary",i.appendChild(document.createTextNode(e.text)),t.appendChild(i),this.sectionElements.append(t)}},JendoSection.prototype.load=function(e){if(!jendo.isNull(this.sectionElements)&&!jendo.isNull(e))for(var t=0;t<e.length;t++)this.append(e[t])},jendo.section=function(e){if(jendo.isNull(e))return new JendoSection(null);var t=jendo(e);return new JendoSection(t.length>0?t:null)},JendoNavBar.prototype.append=function(e){if(!jendo.isNull(this.sectionElements)&&!jendo.isNull(e)){var t=this.sectionElements.appendElementLI();if("items"in e){t.class("dropdown");var n=this;("link"in e?t.appendElementA(e.link,e.text):t.appendElementButton(e.text)).attr("role","button").click(function(e){var t=jendo(e.target).parent(),a=!0;null!=_JendoLastOpenElement&&_JendoLastOpenElement.is(t)&&(a=!1,_JendoLastOpenElement=null),a&&(_JendoFuncCloseElement=n.closeElement,_JendoLastOpenElement=t,t.addClass("open"))}),new JendoNavBar(t.appendElementUL().class("dropdown-menu")).load(e.items)}else jendo.isNullOrWhiteSpace(e.link)?t.appendElementButton(e.text).click(function(){document.dispatchEvent(new CustomEvent("navbar.navigate",{detail:e.args}))}):t.appendElementA(e.link,e.text)}},JendoNavBar.prototype.closeElement=function(e){var t=e.parentElement;_JendoLastOpenElement.is(t)?(_JendoLastOpenElement.removeClass("open"),_JendoFuncCloseElement=null):_JendoLastOpenElement.isContains(e.parentElement)||(_JendoLastOpenElement.removeClass("open"),_JendoFuncCloseElement=null,_JendoLastOpenElement=null)},JendoNavBar.prototype.load=function(e){if(!jendo.isNull(this.sectionElements)&&!jendo.isNull(e))for(var t=0;t<e.length;t++)this.append(e[t])},JendoNavBar.prototype.navigate=function(e){return document.addEventListener("navbar.navigate",e,!1),this},jendo.navbar=function(e){if(jendo._IsInitNavbar=!0,jendo.isNull(e))return new JendoNavBar(null);var t=jendo(e);return new JendoNavBar(t.length>0?t.appendElementUL():null)},JendoDialog.moveElement=null,JendoDialog.moveTop=0,JendoDialog.moveLeft=0,JendoDialog.showPositionTop=50,JendoDialog.prototype.load=function(e,t){var n=this.jDialog;jendo.get(e).done(function(e){n.html(e),t&&t()}).send()},JendoDialog.prototype.show=function(){if(0!=this.jDialog.length){this.jDialog.dispatchEvent("jendo.dialog.show",{}),this.isModalForm&&this.jDialog.addClass("jd-dialog-modal");var e=this.jDialog.find('[role="document"]');0==e.length&&((e=jendo.createElementDiv().class("jd-dialog-document").attr("role","document").attr("tabindex",0)).append(this.jDialog.children()),e.addClass(this.jDialog.data("class")),this.jDialog.append(e),this.jDialog.keyPress(function(e){27==e.keyCode&&jendo.dialog(this).hide()}));var t=e.find('[data-dialog="content"]');if(0==t.length&&(0==(t=e.find(".jd-dialog-content")).length?((t=jendo.createElementDiv().class("jd-dialog-content").attr("data-dialog","content")).append(e.children()),e.append(t)):t.attr("data-dialog","content")),this.withTitlebar){var n=e.find('[data-dialog="titlebar"]');0==n.length?0==(n=e.find(".jd-dialog-titlebar")).length?(n=e.insertElementDiv().class("jd-dialog-titlebar").attr("data-dialog","titlebar"),this.withCloseBtnLeft&&n.appendElement().class("jd-dt-button jd-dt-button-left").appendElementButton().attr("data-dialog","close").appendElement("i").class("fa fa-chevron-left").attr("aria-hidden","true"),n.appendElementDiv().class("jd-dt-title").text(this.dialogTitle),this.withCloseBtnRight&&n.appendElementDiv().class("jd-dt-button jd-dt-button-right").appendElementButton().attr("data-dialog","close").class("jd-bnt").appendElement("i").class("fa fa-times").attr("aria-hidden","true")):n.attr("data-dialog","titlebar"):jendo.isNullOrEmpty(e.attr("class"))&&e.attr("class","jd-dialog-titlebar");var a=jendo(document);n.mouseDown(function(e){var t=JendoDialog.findDocument(e.target);jendo.isNull(t)||(JendoDialog.moveElement=jendo(t),JendoDialog.moveTop=e.offsetY+e.target.offsetTop,JendoDialog.moveLeft=e.offsetX+e.target.offsetLeft)}),a.mouseUp(function(e){JendoDialog.moveElement=null,JendoDialog.moveTop=0,JendoDialog.moveLeft=0}),a.mouseMove(function(e){if(null!=JendoDialog.moveElement){var t={top:0,left:0};t.top=e.clientY-JendoDialog.moveTop,t.top<0&&(t.top=0),t.left=e.clientX-JendoDialog.moveLeft,t.left<0&&(t.left=0),JendoDialog.moveElement.position(t),JendoDialog.moveElement.prop("position",t)}})}e.find('[data-dialog="close"]').click(function(e){JendoDialog.findDialog(e.target).hide()}),this.jDialog.show();var o=e.prop("position");jendo.isNull(o)&&(jendo.screenWidth()==e.offsetWidth()?o={top:0,left:0}:(o={top:e.height()<jendo.windowHeight()?JendoDialog.showPositionTop:0,left:jendo.windowWidth()/2-e.width()/2},JendoDialog.showPositionTop+=30,e.prop("position",o))),e.position(o),e.focus(),this.jDialog.dispatchEvent("jendo.dialog.shown",{})}},JendoDialog.prototype.showModal=function(){this.isModalForm=!0,this.show()},JendoDialog.prototype.hide=function(){0!=this.jDialog.length&&(this.jDialog.dispatchEvent("jendo.dialog.hide",{}),this.jDialog.hide(),this.jDialog.dispatchEvent("jendo.dialog.hidden",{}))},JendoDialog.prototype.onShow=function(e){return this.jDialog.on("jendo.dialog.show",e),this},JendoDialog.prototype.onShown=function(e){return this.jDialog.on("jendo.dialog.shown",e),this},JendoDialog.prototype.onHide=function(e){return this.jDialog.on("jendo.dialog.hide",e),this},JendoDialog.prototype.onHidden=function(e){return this.jDialog.on("jendo.dialog.hidden",e),this},JendoDialog.findDialog=function(e){return new JendoDialog(this.findParentElement(e,"role","dialog"))},JendoDialog.findDocument=function(e){return this.findParentElement(e,"role","document")},JendoDialog.findTitlebar=function(e){return this.findParentElement(e,"data-dialog","titlebar")},JendoDialog.findParentElement=function(e,t,n){for(var a=e.parentElement;null!=a;){var o=a.attributes[t];if(!jendo.isNull(o)&&o.value.toLowerCase()==n)return a;a=a.parentElement}return null},jendo.dialog=function(e){return new JendoDialog(e)},jendo.dialogInit=function(){jendo('[data-toggle="jd-dialog"]').forEach(function(e,t){var n=jendo(t),a=n.data("target");jendo.isNullOrWhiteSpace(a)||n.click(function(e){jendo.dialog(a).show()})})},JendoDatepicker.prototype.isInit=function(e){if(jendo.isNull(e)){var t=this.dElement.jdp_IsInit;return!jendo.isNull(t)&&t}return this.dElement.jdp_IsInit=e,this},JendoDatepicker.prototype.hide=function(){jendo(this.dDatepicker).hide(),_JendoFuncCloseElement=null,_JendoLastOpenElement=null},JendoDatepicker.prototype.hideElement=function(e){_JendoLastOpenElement.isContains(e)||(_JendoLastOpenElement.hide(),_JendoFuncCloseElement=null,_JendoLastOpenElement=null)},JendoDatepicker.prototype.format=function(e){return jendo.isNullOrWhiteSpace(e)?this.dpOptions.format:(this.dpOptions.format=e,jendo.isNull(this.dElement.dateValue)||this.jdElement.val(jendo.dateFormatUI(this.dElement.dateValue,e)),this)},JendoDatepicker.prototype.createDatepicker=function(e){var t=document.createElement("div");t.setAttribute("class","datepicker"),t.id=e;var n=jendo.now();return this.loadDPDays(t,n.getFullYear(),n.getMonth(),n.getDate()),t},JendoDatepicker.prototype.addDPHead=function(e,t,n,a,o){var i=document.createElement("div");i.setAttribute("class","dp-head"),e.appendChild(i);var d=document.createElement("div");d.setAttribute("class","dph-left"),i.appendChild(d);var l=document.createElement("button");l.setAttribute("type","button"),l.innerText="<",l.onclick=a,d.appendChild(l);var r=document.createElement("div");r.setAttribute("class","dph-title"),i.appendChild(r);var s=document.createElement("button");s.setAttribute("type","button"),s.innerText=t,s.onclick=n,r.appendChild(s);var p=document.createElement("div");p.setAttribute("class","dph-right"),i.appendChild(p);var h=document.createElement("button");h.setAttribute("type","button"),h.innerText=">",h.onclick=o,p.appendChild(h)},JendoDatepicker.prototype.loadDPDays=function(e,t,n,a){e.innerText="";var o=this;this.addDPHead(e,jendo.lang.monthNames[n]+" "+t,function(i){o.loadDPMonths(e,t,n,a)},function(i){var d=new Date(t,n-1,a);o.loadDPDays(e,d.getFullYear(),d.getMonth(),d.getDate())},function(i){var d=new Date(t,n+1,a);o.loadDPDays(e,d.getFullYear(),d.getMonth(),d.getDate())});var i=document.createElement("div");i.setAttribute("class","dp-month"),e.appendChild(i);var d=document.createElement("div");d.setAttribute("class","dpm-weekdays"),i.appendChild(d);for(l=this.dpOptions.weekdayStart;l<jendo.lang.weekdayNames.length;l++)(r=document.createElement("div")).setAttribute("class","dpm-weekday"),r.innerText=jendo.lang.weekdayNarrowNames[l],d.appendChild(r);for(var l=0;l<this.dpOptions.weekdayStart;l++){var r=document.createElement("div");r.setAttribute("class","dpm-weekday"),r.innerText=jendo.lang.weekdayNarrowNames[l],d.appendChild(r)}var s=document.createElement("div");s.setAttribute("class","dpm-days"),i.appendChild(s);var p=new Date(Date.UTC(t,n,1)).getDay()-this.dpOptions.weekdayStart;p<0&&(p+=7);for(var h=0;h<p;h++)(f=document.createElement("button")).setAttribute("type","button"),f.setAttribute("class","dpm-day"),f.innerText="",s.appendChild(f);for(var c=jendo.daysInMonth(n+1,t),u=1;u<=c;u++)(f=document.createElement("button")).setAttribute("type","button"),f.setAttribute("class","dpm-day"),f.setAttribute("data-day",u),f.innerText=u,f.onclick=function(e){var a=e.target.getAttribute("data-day"),i=new Date(Date.UTC(t,n,a));o.dElement.dateValue=i,o.jdElement.val(jendo.dateFormatUI(i,o.format())),o.hide()},s.appendChild(f);var m=(p+c)%7;m>0&&(m=7-m);for(var g=0;g<m;g++){var f=document.createElement("button");f.setAttribute("type","button"),f.setAttribute("class","dpm-day"),f.innerText="",s.appendChild(f)}},JendoDatepicker.prototype.loadDPMonths=function(e,t,n,a){e.innerText="";var o=this;this.addDPHead(e,t,function(i){o.loadDPYears(e,t,n,a)},function(i){var d=new Date(t-1,n,a);o.loadDPMonths(e,d.getFullYear(),d.getMonth(),d.getDate())},function(i){var d=new Date(t+1,n,a);o.loadDPMonths(e,d.getFullYear(),d.getMonth(),d.getDate())});var i=document.createElement("div");i.setAttribute("class","dp-months"),e.appendChild(i);for(var d=0;d<jendo.lang.monthShortNames.length;d++){var l=document.createElement("button");l.setAttribute("type","button"),l.setAttribute("class","dpm-month"),l.setAttribute("data-month",d),l.innerText=jendo.lang.monthShortNames[d],l.onclick=function(n){var i=n.target.getAttribute("data-month"),d=new Date(t,i,a);o.loadDPDays(e,d.getFullYear(),d.getMonth(),d.getDate())},i.appendChild(l)}},JendoDatepicker.prototype.loadDPYears=function(e,t,n,a){e.innerText="";var o=this,i=t.toString(),d=t-parseInt(i[i.length-1]),l=d+9;this.addDPHead(e,d+" - "+l,function(e){},function(i){var d=new Date(t-12,n,a);o.loadDPYears(e,d.getFullYear(),d.getMonth(),d.getDate())},function(i){var d=new Date(t+12,n,a);o.loadDPYears(e,d.getFullYear(),d.getMonth(),d.getDate())});var r=document.createElement("div");r.setAttribute("class","dp-months"),e.appendChild(r);for(var s=-1;s<11;s++){var p=d+s,h=document.createElement("button");h.setAttribute("type","button"),-1==s||10==s?h.setAttribute("class","dpm-month dpm-outside"):h.setAttribute("class","dpm-month"),h.setAttribute("data-year",p),h.innerText=p,h.onclick=function(t){var i=t.target.getAttribute("data-year"),d=new Date(i,n,a);o.loadDPMonths(e,d.getFullYear(),d.getMonth(),d.getDate())},r.appendChild(h)}},jendo.datepicker=function(e){if(!jendo.isNull(e)){var t=jendo(e);if(t.length>0)return new JendoDatepicker(t)}},JendoGridView.prototype.data=function(e){return jendo.isNull(e)?this:("show"in e&&"rowNo"in e.show&&(this._GVData.show.rowNo=e.show.rowNo),this.filterable(e.filterable),this.columns(e.columns),this.records(e.records),this)},JendoGridView.prototype.filterable=function(e){if(!jendo.isNull(e)){var t=this._GVData.filterable;t.enabled=!jendo.isNull(e.enabled)&&e.enabled,t.mode=jendo.isNull(e.mode)?"row":e.mode}},JendoGridView.prototype.columns=function(e){if(!jendo.isNull(e)){var t=this,n=this._GVData.columns,a=this._GVData.filterable,o=this._GVData.sortData,i=this._GVData.filterData,d=this._GridView.appendElementTHead(),l=d.appendElementTRow(),r=null;a.enabled&&"row"==a.mode&&(r=d.appendElementTRow()),this._GVData.show.rowNo&&l.appendElementTH().text("#"),null!=r&&this._GVData.show.rowNo&&r.appendElementTH();for(var s=0;s<e.length;s++){var p=e[s];jendo.isNullOrEmpty(p.caption)&&(p.caption="");var h=l.appendElementTH();if(h.text(p.caption),jendo.isNull(p.field)){if(!jendo.isNull(p.commands)&&(n.push(p),null!=r))r.appendElementTH()}else h.append('<i class="fa fa-sort-asc jd-sort-asc" aria-hidden="true"></i>'),h.append('<i class="fa fa-sort-desc jd-sort-desc" aria-hidden="true"></i>'),h.data("field",p.field),h.click(function(e){if(e.ctrlKey){var n=_(e.target).data("field"),a=o.find(function(e){return e.field===n});if(_.isNull(a))o.push({field:n,sort:1});else if(1==a.sort)a.sort=-1;else if(-1==a.sort){var i=o.findIndex(function(e){return e.field===n});o.splice(i,1)}else a.sort=1}else{var n=jendo(e.target).data("field"),a=o.find(function(e){return e.field===n});_.isNull(a)?(o.splice(0,o.length),o.push({field:n,sort:1})):a.sort=1==a.sort?-1:1}t.sortData()}),n.push(p),null!=r&&r.appendElementTH().appendElementText("input").data("field",p.field).keyUp(function(e){var n=_(e.target),a=n.data("field"),o=n.val();i.find(function(e,t){return e.field==a&&(e.filter=o,!0)})||i.push({field:a,filter:o}),t.refreshRecords()})}}},JendoGridView.prototype.records=function(e){if(!jendo.isNull(e)){var t=this._GVData.columns;this._GVData.records=e;var n=this._GridView.appendElementTBody().role("rowgroup");this.appendGRows(n,t,e,this._GVData),this.appendGPaging(n,t,e,this._GVData)}},JendoGridView.prototype.refreshRecords=function(){var e=this._GVData.columns,t=this._GVData.records,n=this._GVData.sortData,a=this._GVData.filterData,o=this._Element.find('tbody[role="rowgroup"]');o.html("");var i=this._Element.find("th[data-field]");i.removeClass("jd-field-sort"),i.removeClass("jd-field-desort");for(var d=0;d<n.length;d++){var l=n[d];-1==l.sort?this._Element.find('th[data-field="'+l.field+'"]').addClass("jd-field-desort"):this._Element.find('th[data-field="'+l.field+'"]').addClass("jd-field-sort")}a.length>0&&(t=t.filterBy(a)),this.appendGRows(o,e,t,this._GVData),this.appendGPaging(o,e,t,this._GVData)},JendoGridView.prototype.refresh=function(){this.refreshRecords()},JendoGridView.prototype.appendGRows=function(e,t,n,a){var o=0,i=n.length;if(this._GVData.allowPaging){var d=(o=a.pageNo>1?(a.pageNo-1)*this._GVData.pageSize:0)+this._GVData.pageSize;i>d&&(i=d)}for(var l=o;l<i;l++){var r=n[l];"object"==typeof r?this.recordBound(l,e,r,t):this.recordBound(l,e,{},t)}},JendoGridView.prototype.appendGPaging=function(e,t,n,a){if(a.allowPaging){var o=this,i=e.appendElementTRow().addClass("jd-pager").appendElementTD(),d=t.length;a.show.rowNo&&(d+=1);var l=n.length/a.pageSize;a.countPage=Math.round(l,0),l>a.countPage&&(a.countPage+=1),i.attr("colspan",d);var r=a.pager;if(r.firstLast){var s=i.appendElementButton().addClass("jd-pager-btn").click(function(e){o.pageFirst()});s.appendElement("i").attr("class","fa fa-angle-double-left").attr("aria-hidden",!0),1==a.pageNo&&s.attr("disabled","")}if(r.prevNext){var p=i.appendElementButton().addClass("jd-pager-btn").click(function(e){o.pagePrev()});p.appendElement("i").attr("class","fa fa-angle-left").attr("aria-hidden",!0),1==a.pageNo&&p.attr("disabled","")}if(r.numeric)for(var h=r.numericCount>a.countPage?a.countPage:r.numericCount,c=1;c<=h;c++)i.appendElementButton(c).addClass("jd-pager-btn").click(function(e){o.pageNo(e.data.pageNo)},{pageNo:c});if(r.prevNext){var u=i.appendElementButton().addClass("jd-pager-btn").click(function(e){o.pageNext()});u.appendElement("i").attr("class","fa fa-angle-right").attr("aria-hidden",!0),a.pageNo==a.countPage&&u.attr("disabled","")}if(r.firstLast){var m=i.appendElementButton().addClass("jd-pager-btn").click(function(e){o.pageLast()});m.appendElement("i").attr("class","fa fa-angle-double-right").attr("aria-hidden",!0),a.pageNo==a.countPage&&m.attr("disabled","")}if(r.goToPage){var g=i.appendElementDiv().addClass("jd-pager-panel");g.appendElement("span").text("Page:");var f=g.appendElementText();g.appendElement("span").text("of "+a.countPage),g.appendElementButton("Go").addClass("jd-pager-btn").click(function(e){parseInt(f.val())>0&&o.pageNo(f.val())})}if(r.pageSize){var v=i.appendElementDiv().addClass("jd-pager-panel");if(v.appendElement("span").text("Page size:"),Array.isArray(r.pageSizeList)&&r.pageSizeList.length>0);else{var j=v.appendElementText().val(a.pageSize);v.appendElementButton("Change").addClass("jd-pager-btn").click(function(){console.log("Change",j.val())})}}}},JendoGridView.prototype.recordBound=function(e,t,n,a){var o=e%2,i=t.appendElementTRow();if(1==o&&i.addClass("jd-alt"),this._GVData.show.rowNo)i.appendElementTD().text(e+1+".");for(var d=0;d<a.length;d++){var l=a[d],r=i.appendElementTD();if(jendo.isNull(l.field)){if(!jendo.isNull(l.commands))for(var s=0;s<l.commands.length;s++){var p=l.commands[s],h=r.appendElementButton(p.caption);if(h.class("jd-grid-bnt-link"),!jendo.isNull(p.click)){var c={rowIndex:e,colIndex:d};if(!jendo.isNull(p.fields))for(var u=0;u<p.fields.length;u++){var m=p.fields[u];c[m]=n[m]}h.click(this.clickCommand(p.click,c))}}}else{var g=n[l.field];r.html(g)}}},JendoGridView.prototype.clickCommand=function(e,t){return function(n){e(n,t)}},JendoGridView.prototype.sortData=function(e){var t=this._GVData.sortData;if(!jendo.isNull(e)){t.splice(0,t.length);for(var n=0;n<e.length;n++)t.push(e[n])}this._GVData.records.sortBy(t),this.refreshRecords()},JendoGridView.prototype.pageNo=function(e){if(jendo.isNullOrWhiteSpace(e))return this._GVData.pageNo;var t=this._GVData;e>0&&e<=t.countPage&&(t.pageNo=e,this.refreshRecords())},JendoGridView.prototype.pagePrev=function(){var e=this._GVData;this.pageNo(e.pageNo-1)},JendoGridView.prototype.pageNext=function(){var e=this._GVData;this.pageNo(e.pageNo+1)},JendoGridView.prototype.pageFirst=function(){this.pageNo(1)},JendoGridView.prototype.pageLast=function(){var e=this._GVData;this.pageNo(e.countPage)},jendo.gridView=function(e){if(!jendo.isNull(e)){var t=jendo(e);if(t.length>0)return new JendoGridView(t)}},JendoQRCodeReader.prototype.height=function(e){return jendo.isNull(e)?this._Height:(this._Height=e,this)},JendoQRCodeReader.prototype.width=function(e){return jendo.isNull(e)?this._Width:(this._Width=e,this)},JendoQRCodeReader.prototype.onSuccess=function(e){return this._OnSuccess=e,this},JendoQRCodeReader.prototype.onError=function(e){return this._OnError=e,this},JendoQRCodeReader.prototype.onVideoError=function(e){return this._OnVideoError=e,this},JendoQRCodeReader.prototype.start=function(){var e=this._QRCodeReader,t=null==this._Height?250:this._Height,n=null==this._Width?300:this._Width,a=this._OnSuccess,o=this._OnError,i=this._OnVideoError,d=this._QRCodeReader.find("#qr-video");0==d.length?d=this._QRCodeReader.appendElement("video").attr("id","qr-video").height(t).width(n):d.show();var l=this._QRCodeReader.find("#qr-canvas");0==l.length?l=this._QRCodeReader.appendElement("canvas").height(t-2).width(n-2).attr("id","qr-canvas").style("display:none;"):l.hide();var r=d.first(),s=l.first().getContext("2d"),p=function(){var t=e.data("stream");if(!jendo.isNull(t)){s.drawImage(r,0,0,307,250);try{qrcode.decode()}catch(e){jendo.isNull(o)||o(e,t)}setTimeout(p,500)}};jendo.navigator.getUserMedia({video:!0},function(t){window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,r.src=window.URL&&window.URL.createObjectURL(t)||t,e.data("stream",t),r.play(),setTimeout(p,1e3)},function(t){i(t,e.data("stream"))}),qrcode.callback=function(t){jendo.isNull(a)||a(t,e.data("stream"))}},JendoQRCodeReader.prototype.stop=function(){var e=this._QRCodeReader.data("stream");jendo.isNull(e)||(e.getVideoTracks().forEach(function(e){e.stop()}),this._QRCodeReader.dataRemove("stream"))},JendoQRCodeReader.prototype.files=function(e){var t=this._QRCodeReader,n=null==this._Height?250:this._Height,a=null==this._Width?300:this._Width,o=this._OnSuccess,i=this._OnError,d=(this._OnVideoError,this._QRCodeReader.find("#qr-video"));d.length>0&&d.hide();var l=this._QRCodeReader.find("#qr-canvas");0==l.length?l=this._QRCodeReader.appendElement("canvas").height(n-2).width(a-2).attr("id","qr-canvas"):l.show();d.first();var r=l.first().getContext("2d");qrcode.callback=function(e){jendo.isNull(o)||o(e,t.data("stream"))};var s=new Image;s.onload=function(){s.width=r.canvas.width,s.height=r.canvas.height,r.drawImage(s,0,0,r.canvas.width,r.canvas.height)};for(var p=0;p<e.length;p++){var h=new FileReader;h.onload=function(e){return function(e){try{qrcode.decode(e.target.result),s.src=e.target.result}catch(e){jendo.isNull(i)||i(e,mediaStream)}}}(e[p]),h.readAsDataURL(e[p])}},jendo.QRCodeReader=function(e){return new JendoQRCodeReader(e)};